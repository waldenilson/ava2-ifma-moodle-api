var H5P=H5P||{};H5P.ImageSlide=(function($){function C(options,contentId,extras){var self=this;this.$=$(this);H5P.EventDispatcher.call(this);this.aspectRatio=this.originalAspectRatio=extras.aspectRatio;this.options=$.extend(true,{},{image:null,},options);this.contentId=contentId;this.image=H5P.newRunnable(this.options.image,this.contentId);this.image.on('loaded',function(){self.trigger('loaded');self.trigger('resize');});}
C.prototype=Object.create(H5P.EventDispatcher.prototype);C.prototype.constructor=C;C.prototype.attach=function($container){this.$container=$container;$container.addClass("h5p-image-slide");this.$imageHolder=$('<div>',{class:'h5p-image-slide-image-holder',});$container.append(this.$imageHolder);this.image.attach(this.$imageHolder);this.adjustSize();};C.prototype.setAspectRatio=function(newAspectRatio){this.aspectRatio=newAspectRatio;if(this.$imageHolder){this.adjustSize();}};C.prototype.resetAspectRatio=function(){this.aspectRatio=this.originalAspectRatio;if(this.$imageHolder){this.adjustSize();}};C.prototype.adjustSize=function(){var imageHeight=this.options.image.params.file.height;var imageWidth=this.options.image.params.file.width;var imageAspectRatio=imageWidth/imageHeight;if(this.aspectRatio>=imageAspectRatio){var widthInPercent=imageAspectRatio/this.aspectRatio*100;var borderSize=(100-widthInPercent)/2+'%';this.$imageHolder.css({height:'100%',width:imageAspectRatio/this.aspectRatio*100+'%',paddingLeft:borderSize,paddingRight:borderSize,paddingTop:0,paddingBottom:0});}
else if(this.aspectRatio<imageAspectRatio){var heightInPercent=this.aspectRatio/imageAspectRatio*100;var borderSize=(100-heightInPercent)/2/this.aspectRatio+'%';this.$imageHolder.css({width:'100%',height:heightInPercent+'%',paddingTop:borderSize,paddingBottom:borderSize,paddingLeft:0,paddingRight:0});}
else if(this.aspectRatio===undefined){this.$imageHolder.css({width:'100%',height:'',paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0});}};return C;})(H5P.jQuery);